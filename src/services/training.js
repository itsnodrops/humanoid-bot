const _0x52eaae = _0x64cc; (function (_0x1600d3, _0x349b37) { const _0x283311 = _0x64cc, _0x1c1182 = _0x1600d3(); while (!![]) { try { const _0x2b43e5 = parseInt(_0x283311(0x97)) / 0x1 + parseInt(_0x283311(0x8b)) / 0x2 + -parseInt(_0x283311(0x71)) / 0x3 + parseInt(_0x283311(0x88)) / 0x4 + parseInt(_0x283311(0x76)) / 0x5 * (parseInt(_0x283311(0x82)) / 0x6) + parseInt(_0x283311(0x95)) / 0x7 + -parseInt(_0x283311(0x7e)) / 0x8; if (_0x2b43e5 === _0x349b37) break; else _0x1c1182['push'](_0x1c1182['shift']()); } catch (_0xbe373a) { _0x1c1182['push'](_0x1c1182['shift']()); } } }(_0x8a87, 0x30bcd)); import _0x13a866 from '../core/api.js'; function _0x64cc(_0x161643, _0x3c82b2) { _0x161643 = _0x161643 - 0x6f; const _0x8a878a = _0x8a87(); let _0x64cc33 = _0x8a878a[_0x161643]; return _0x64cc33; } const DEFAULTS = { 'HF_API': _0x52eaae(0x8e) }; let config = DEFAULTS; try { const configModule = await import(_0x52eaae(0x8a)); config = { ...DEFAULTS, ...configModule[_0x52eaae(0x72)] }; } catch { } const MAX_RETRIES = 0x3, RETRY_DELAY = 0x7d0; class TrainingService { [_0x52eaae(0x93)](_0x4e76aa) { return new Promise(_0x5606a0 => setTimeout(_0x5606a0, _0x4e76aa)); } [_0x52eaae(0x7d)]() { const _0x3f2a4d = _0x52eaae, _0x2c1527 = Math[_0x3f2a4d(0x85)](Math[_0x3f2a4d(0x78)]() * 0xfa0) + 0x3e8; return this['sleep'](_0x2c1527); } async[_0x52eaae(0x80)](_0x314d93, _0x5cafb1 = MAX_RETRIES) { const _0x150d74 = _0x52eaae; for (let _0x522ab8 = 0x1; _0x522ab8 <= _0x5cafb1; _0x522ab8++) { const _0x1ab80c = await _0x314d93(); if (_0x1ab80c) return _0x1ab80c; _0x522ab8 < _0x5cafb1 && await this[_0x150d74(0x93)](RETRY_DELAY); } return null; } async[_0x52eaae(0x89)](_0x5e5361, _0x260601, _0x391869, _0xfee24f = {}) { const _0x2e0516 = _0x52eaae, { logger: _0x5a637f, shortAddr: _0x19b903 } = _0xfee24f, _0x383fc9 = await this['withRetry'](() => _0x13a866['getTrainingProgress'](_0x5e5361, _0x260601, _0x391869)); if (!_0x383fc9) return; await this['processModels'](_0x5e5361, _0x260601, _0x391869, _0x383fc9, _0xfee24f), await this[_0x2e0516(0x96)](_0x5e5361, _0x260601, _0x391869, _0x383fc9, _0xfee24f); } async[_0x52eaae(0x8d)](_0x5a12ba, _0x3f7279, _0x3fed67, _0x41a17f, _0x4b5f6e) { const _0x597b54 = _0x52eaae, { logger: _0x56b8e8, shortAddr: _0x2ae10a } = _0x4b5f6e, _0x423ead = _0x41a17f[_0x597b54(0x83)]?.[_0x597b54(0x77)] || {}; if (_0x423ead[_0x597b54(0x75)] > 0x0) { await this['randomDelay'](); const _0x313995 = await this[_0x597b54(0x80)](() => _0x13a866[_0x597b54(0x94)](_0x423ead['remaining'], _0x3fed67)); if (_0x313995 && _0x313995[_0x597b54(0x84)] > 0x0) { let _0x5b9598 = _0x423ead[_0x597b54(0x6f)] || 0x0; for (const _0x39fb87 of _0x313995) { const _0x2aa252 = _0x39fb87['id'], _0x4ea1f7 = config[_0x597b54(0x86)] + '/' + _0x39fb87['id']; await this[_0x597b54(0x7d)](); const _0x5524d5 = await this[_0x597b54(0x80)](() => _0x13a866['submitTraining'](_0x5a12ba, _0x3f7279, { 'fileName': _0x2aa252, 'fileUrl': _0x4ea1f7, 'fileType': _0x597b54(0x90), 'recaptchaToken': '' }, _0x3fed67)); _0x5524d5 ? _0x56b8e8?.[_0x597b54(0x74)](_0x597b54(0x8c) + (_0x5b9598 + 0x1) + '/' + _0x423ead[_0x597b54(0x91)] + ']\x20' + _0x2aa252, _0x2ae10a) : _0x56b8e8?.['error']('Model\x20Failed\x20[' + (_0x5b9598 + 0x1) + '/' + _0x423ead[_0x597b54(0x91)] + ']\x20' + _0x2aa252, _0x2ae10a), _0x5b9598++; } } else _0x56b8e8?.[_0x597b54(0x70)](_0x597b54(0x7a), _0x2ae10a); } else _0x56b8e8?.[_0x597b54(0x7c)]('Models:\x20Limit\x20Reached\x20[' + _0x423ead[_0x597b54(0x91)] + '/' + _0x423ead[_0x597b54(0x91)] + ']', _0x2ae10a); } async[_0x52eaae(0x96)](_0x5db30f, _0x2099d1, _0x45d8ae, _0x10cd4a, _0x1909e1) { const _0x15365b = _0x52eaae, { logger: _0x1d4f9a, shortAddr: _0x32ee94 } = _0x1909e1, _0x13b8b2 = _0x10cd4a[_0x15365b(0x83)]?.[_0x15365b(0x81)] || {}; if (_0x13b8b2[_0x15365b(0x75)] > 0x0) { await this[_0x15365b(0x7d)](); const _0x5bfe84 = await this[_0x15365b(0x80)](() => _0x13a866['getDatasets'](_0x13b8b2[_0x15365b(0x75)], _0x45d8ae)); if (_0x5bfe84 && _0x5bfe84[_0x15365b(0x84)] > 0x0) { let _0x558b21 = _0x13b8b2['completed'] || 0x0; for (const _0x4552d9 of _0x5bfe84) { const _0x2754cb = _0x4552d9['id'], _0x14cc64 = config[_0x15365b(0x86)] + '/datasets/' + _0x4552d9['id']; await this[_0x15365b(0x7d)](); const _0x3dc9fd = await this[_0x15365b(0x80)](() => _0x13a866[_0x15365b(0x87)](_0x5db30f, _0x2099d1, { 'fileName': _0x2754cb, 'fileUrl': _0x14cc64, 'fileType': _0x15365b(0x79), 'recaptchaToken': '' }, _0x45d8ae)); _0x3dc9fd ? _0x1d4f9a?.['success'](_0x15365b(0x7b) + (_0x558b21 + 0x1) + '/' + _0x13b8b2['limit'] + ']\x20' + _0x2754cb, _0x32ee94) : _0x1d4f9a?.[_0x15365b(0x73)](_0x15365b(0x7f) + (_0x558b21 + 0x1) + '/' + _0x13b8b2[_0x15365b(0x91)] + ']\x20' + _0x2754cb, _0x32ee94), _0x558b21++; } } else _0x1d4f9a?.[_0x15365b(0x70)](_0x15365b(0x92), _0x32ee94); } else _0x1d4f9a?.[_0x15365b(0x7c)](_0x15365b(0x8f) + _0x13b8b2[_0x15365b(0x91)] + '/' + _0x13b8b2['limit'] + ']', _0x32ee94); } } function _0x8a87() { const _0x112b38 = ['740310TlBcpI', 'default', 'error', 'success', 'remaining', '77185wFmZxg', 'models', 'random', 'dataset', 'Models:\x20No\x20data\x20from\x20HuggingFace', 'Dataset\x20[', 'info', 'randomDelay', '7347512dnEirW', 'Dataset\x20Failed\x20[', 'withRetry', 'datasets', '114gfDPNu', 'daily', 'length', 'floor', 'HF_API', 'submitTraining', '1472984mfASum', 'process', '../../config.js', '505708ktWsTn', 'Model\x20[', 'processModels', 'https://huggingface.co', 'Datasets:\x20Limit\x20Reached\x20[', 'model', 'limit', 'Datasets:\x20No\x20data\x20from\x20HuggingFace', 'sleep', 'getModels', '1619093kExRaF', 'processDatasets', '219136aowYrH', 'completed', 'warn']; _0x8a87 = function () { return _0x112b38; }; return _0x8a87(); } export default new TrainingService();