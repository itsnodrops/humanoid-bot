const _0x419d0a = _0x1193; function _0xb2df() { const _0x3165f9 = ['tokenCachedAt', 'setUserAgent', 'accounts-data.json', 'hasUserAgent', 'saveToFile', 'exp', 'mkdirSync', 'getXHandle', 'has', 'cache', 'getUserAgent', 'dirname', 'setXHandle', 'now', 'xHandleCachedAt', '63frfUsK', '432840SNkbbw', 'writeFileSync', 'utf-8', 'userAgent', '79872yjTTcG', 'deleteToken', 'hasToken', '30640DGqsPW', 'loadFromFile', '5007498DTxKel', 'clear', '171tAcLyj', 'tokenExpiresAt', 'existsSync', 'entries', 'parseTokenExpiration', 'delete', 'getToken', 'userAgentCachedAt', 'xHandle', '991965XvCwBE', 'token', 'setToken', 'length', 'stringify', 'getAccountData', '428hOyFGz', 'parse', 'get', 'getStats', '88180HXHwEk', '20149085OurMUn', '14gFPjGW', 'set', 'base64']; _0xb2df = function () { return _0x3165f9; }; return _0xb2df(); } (function (_0x238ce5, _0xf8817) { const _0x13c31d = _0x1193, _0x317b9f = _0x238ce5(); while (!![]) { try { const _0x517e16 = -parseInt(_0x13c31d(0x1e4)) / 0x1 * (-parseInt(_0x13c31d(0x1fb)) / 0x2) + -parseInt(_0x13c31d(0x1d8)) / 0x3 + -parseInt(_0x13c31d(0x1de)) / 0x4 * (-parseInt(_0x13c31d(0x1fe)) / 0x5) + parseInt(_0x13c31d(0x200)) / 0x6 + -parseInt(_0x13c31d(0x1f6)) / 0x7 * (-parseInt(_0x13c31d(0x1f7)) / 0x8) + parseInt(_0x13c31d(0x1cf)) / 0x9 * (parseInt(_0x13c31d(0x1e2)) / 0xa) + -parseInt(_0x13c31d(0x1e3)) / 0xb; if (_0x517e16 === _0xf8817) break; else _0x317b9f['push'](_0x317b9f['shift']()); } catch (_0x5df568) { _0x317b9f['push'](_0x317b9f['shift']()); } } }(_0xb2df, 0x84328)); function _0x1193(_0x4db8ec, _0x25b1a0) { _0x4db8ec = _0x4db8ec - 0x1cf; const _0xb2df15 = _0xb2df(); let _0x11934b = _0xb2df15[_0x4db8ec]; return _0x11934b; } import _0x25ee61 from 'fs'; import _0x363544 from 'path'; import { fileURLToPath } from 'url'; const __dirname = _0x363544[_0x419d0a(0x1f2)](fileURLToPath(import.meta.url)), ACCOUNTS_FILE = _0x363544['join'](__dirname, 'data', _0x419d0a(0x1e9)); class AccountsCache { constructor() { const _0x387356 = _0x419d0a; this[_0x387356(0x1f0)] = new Map(), this['loadFromFile'](); } [_0x419d0a(0x1ff)]() { const _0x14d775 = _0x419d0a; try { if (_0x25ee61[_0x14d775(0x1d1)](ACCOUNTS_FILE)) { const _0x296e09 = JSON[_0x14d775(0x1df)](_0x25ee61['readFileSync'](ACCOUNTS_FILE, 'utf-8')); for (const [_0xa2a95c, _0x1056c7] of Object[_0x14d775(0x1d2)](_0x296e09)) { this[_0x14d775(0x1f0)][_0x14d775(0x1e5)](_0xa2a95c, _0x1056c7); } } } catch (_0x3cc155) { this[_0x14d775(0x1f0)][_0x14d775(0x201)](); } } ['saveToFile']() { const _0x437f11 = _0x419d0a; try { const _0x2f0733 = {}; for (const [_0x5a98a9, _0x105436] of this[_0x437f11(0x1f0)]['entries']()) { _0x2f0733[_0x5a98a9] = _0x105436; } const _0x3a0b02 = _0x363544[_0x437f11(0x1f2)](ACCOUNTS_FILE); !_0x25ee61[_0x437f11(0x1d1)](_0x3a0b02) && _0x25ee61[_0x437f11(0x1ed)](_0x3a0b02, { 'recursive': !![] }), _0x25ee61[_0x437f11(0x1f8)](ACCOUNTS_FILE, JSON[_0x437f11(0x1dc)](_0x2f0733, null, 0x2)); } catch (_0x567302) { } } [_0x419d0a(0x1d3)](_0x4a52ca) { const _0x27af2f = _0x419d0a; try { const _0x19f4e7 = _0x4a52ca['split']('.'); if (_0x19f4e7[_0x27af2f(0x1db)] !== 0x3) return null; const _0x50b230 = JSON[_0x27af2f(0x1df)](Buffer['from'](_0x19f4e7[0x1], _0x27af2f(0x1e6))['toString'](_0x27af2f(0x1f9))); if (_0x50b230['exp']) return _0x50b230[_0x27af2f(0x1ec)] * 0x3e8; return Date[_0x27af2f(0x1f4)]() + 0x18 * 0x3c * 0x3c * 0x3e8; } catch (_0x35b48e) { return null; } } [_0x419d0a(0x1dd)](_0x35aecf) { const _0x4c16a2 = _0x419d0a; return !this['cache'][_0x4c16a2(0x1ef)](_0x35aecf) && this[_0x4c16a2(0x1f0)][_0x4c16a2(0x1e5)](_0x35aecf, {}), this['cache'][_0x4c16a2(0x1e0)](_0x35aecf); } [_0x419d0a(0x1da)](_0x57663a, _0xfe065d) { const _0x13f67f = _0x419d0a, _0x1207ed = this[_0x13f67f(0x1d3)](_0xfe065d); if (!_0x1207ed) return; const _0x23c9ac = this[_0x13f67f(0x1dd)](_0x57663a); _0x23c9ac['token'] = _0xfe065d, _0x23c9ac['tokenExpiresAt'] = _0x1207ed, _0x23c9ac['tokenCachedAt'] = Date[_0x13f67f(0x1f4)](), this[_0x13f67f(0x1eb)](); } [_0x419d0a(0x1d5)](_0x4f2e79) { const _0x1dccf3 = _0x419d0a, _0x2796fa = this['cache'][_0x1dccf3(0x1e0)](_0x4f2e79); if (!_0x2796fa || !_0x2796fa[_0x1dccf3(0x1d9)]) return null; const _0x37788d = 0x5 * 0x3c * 0x3e8; if (Date[_0x1dccf3(0x1f4)]() >= _0x2796fa[_0x1dccf3(0x1d0)] - _0x37788d) return delete _0x2796fa[_0x1dccf3(0x1d9)], delete _0x2796fa[_0x1dccf3(0x1d0)], delete _0x2796fa[_0x1dccf3(0x1e7)], this[_0x1dccf3(0x1eb)](), null; return _0x2796fa[_0x1dccf3(0x1d9)]; } [_0x419d0a(0x1fd)](_0x375449) { return this['getToken'](_0x375449) !== null; } [_0x419d0a(0x1fc)](_0x6d4b72) { const _0x2d2767 = _0x419d0a, _0x23ed4a = this[_0x2d2767(0x1f0)][_0x2d2767(0x1e0)](_0x6d4b72); _0x23ed4a && (delete _0x23ed4a[_0x2d2767(0x1d9)], delete _0x23ed4a[_0x2d2767(0x1d0)], delete _0x23ed4a[_0x2d2767(0x1e7)], this['saveToFile']()); } [_0x419d0a(0x1e8)](_0x4a595d, _0x3e4929) { const _0x3d4807 = _0x419d0a, _0x2dea97 = this[_0x3d4807(0x1dd)](_0x4a595d); _0x2dea97[_0x3d4807(0x1fa)] = _0x3e4929, _0x2dea97[_0x3d4807(0x1d6)] = Date[_0x3d4807(0x1f4)](), this[_0x3d4807(0x1eb)](); } [_0x419d0a(0x1f1)](_0x35f69a) { const _0x595fd9 = _0x419d0a, _0x124459 = this[_0x595fd9(0x1f0)][_0x595fd9(0x1e0)](_0x35f69a); return _0x124459?.[_0x595fd9(0x1fa)] || null; } [_0x419d0a(0x1ea)](_0x5e2952) { return this['getUserAgent'](_0x5e2952) !== null; } [_0x419d0a(0x1f3)](_0x1484e3, _0x38b5a4) { const _0x5aefa7 = _0x419d0a, _0x2379c1 = this[_0x5aefa7(0x1dd)](_0x1484e3); _0x2379c1[_0x5aefa7(0x1d7)] = _0x38b5a4, _0x2379c1[_0x5aefa7(0x1f5)] = Date[_0x5aefa7(0x1f4)](), this[_0x5aefa7(0x1eb)](); } [_0x419d0a(0x1ee)](_0x497a28) { const _0x150a2f = _0x419d0a, _0x59e60b = this[_0x150a2f(0x1f0)][_0x150a2f(0x1e0)](_0x497a28); return _0x59e60b?.[_0x150a2f(0x1d7)] || null; } ['hasXHandle'](_0x193633) { const _0x1633a8 = _0x419d0a; return this[_0x1633a8(0x1ee)](_0x193633) !== null; } [_0x419d0a(0x1d4)](_0x11a088) { const _0x2b1f1d = _0x419d0a; this[_0x2b1f1d(0x1f0)][_0x2b1f1d(0x1d4)](_0x11a088), this['saveToFile'](); } ['clear']() { this['cache']['clear'](), this['saveToFile'](); } [_0x419d0a(0x1e1)]() { const _0x52847d = _0x419d0a; let _0x53fc2d = 0x0, _0x307411 = 0x0, _0x486aa0 = 0x0; const _0x3537ba = Date[_0x52847d(0x1f4)](); for (const [, _0x54c445] of this['cache'][_0x52847d(0x1d2)]()) { _0x54c445['token'] && (_0x3537ba < _0x54c445[_0x52847d(0x1d0)] ? _0x53fc2d++ : _0x307411++), _0x54c445['userAgent'] && _0x486aa0++; } return { 'total': this[_0x52847d(0x1f0)]['size'], 'validTokens': _0x53fc2d, 'expiredTokens': _0x307411, 'userAgents': _0x486aa0 }; } } export const accountsCache = new AccountsCache(); export default accountsCache;